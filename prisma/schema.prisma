generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       Int     @id @default(autoincrement())
  email    String  @unique
  password String
  name     String?
  address  String?
  phone    String?
  province String?
  orederdetail OrderDetail[]
  posts    Post[]
}

model Post {
  id        Int      @id @default(autoincrement())
  title     String
  content   String?
  published Boolean? @default(false)
  authorId  Int?
  author    User?    @relation(fields: [authorId], references: [id])
}

model Categories {
  id           Int    @id @default(autoincrement())
  categoryName String
  description  String
  product Product[]
}

model Employee {
  id       Int      @id @default(autoincrement())
  name     String
  birthday DateTime?
  address  String?
  phone    String?
  email    String?
  password String?
  role String
}

model Product {
  id Int @id @default(autoincrement())
  productName String
  description String
  price Float
  photo String
  unit String
  categoryId Int?
  order Order[]
  category Categories? @relation(fields: [categoryId], references: [id])
}

model Shipper {
  id Int @id @default(autoincrement())
  name String
  phone String
  orderdetail OrderDetail[]
}

model Order {
  id Int @id @default(autoincrement())
  price Float
  quantity Int
  productId Int
  product Product? @relation(fields: [productId], references: [id])
}

model OrderDetail {
  id Int @id @default(autoincrement())
  orderTime DateTime?
  deliveryProvince String?
  deliveryAddress String?
  shippedTime DateTime? 
  finishedTime DateTime?
  Status Int?
  shipperId Int?
  userId Int?
  user User? @relation(fields: [userId], references: [id])
  shipper Shipper? @relation(fields: [shipperId], references: [id])
}